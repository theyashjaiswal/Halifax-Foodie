(this.webpackJsonphalifaxfoodie_frontend=this.webpackJsonphalifaxfoodie_frontend||[]).push([[0],{187:function(e,t,a){},217:function(e,t,a){},235:function(e,t){},255:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),c=a(55),n=a.n(c),i=a(31),o=a(35),l=a(32),j=(a(40),a(0)),d=function(){var e=(new Date).getFullYear();return Object(j.jsxs)("footer",{className:"text-center text-capitalize mt-3 p-2 bg-dark text-light",children:["copyright HalifaxFoodie \xa9 ",e]})},u=a(146),b=function(e){var t=e.title;return Object(j.jsx)(u.a,{children:Object(j.jsx)("title",{children:t})})},h=a(149),O=a(150),x=a(166),m=a(165),p=(a(187),function(e){Object(x.a)(a,e);var t=Object(m.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"render",value:function(){var e=this.props,t=e.heading,a=e.paragraph,s=e.button;return Object(j.jsx)("div",{class:"heroOverlay","data-aos":"fade-up","data-aos-once":"true",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row justify-content-center",children:Object(j.jsxs)("div",{class:"heroCopy col-lg-8",children:[Object(j.jsx)("h1",{className:"h600",style:{color:"#c21f1f"},children:t}),Object(j.jsx)("div",{className:"overlay",children:Object(j.jsx)("p",{children:a})}),Object(j.jsx)("a",{type:"button",class:"btn btn-outline-dark",href:"/login",children:s})]})})})})}}]),a}(s.Component)),f=a(23),g=function(e){var t=e.head,a=e.description;return Object(j.jsx)(f.a,{children:Object(j.jsxs)("div",{className:"starter-template text-center my-5",children:[Object(j.jsx)("h1",{children:t}),Object(j.jsx)("p",{className:"lead text-capitalize",children:a})]})})},y=a(20),v=a(16),w=a(66),N=a.p+"static/media/undraw_my_app_re_gxtj.e8c40601.png",S=a.p+"static/media/undraw_online_groceries_a02y.1d5ff5ff.png",k=a.p+"static/media/undraw_Confirmation_re_b6q5.15940598.png",C=a.p+"static/media/undraw_Data_trends_re_2cdy.a612df18.png",I=(a.p,a(303)),D=a(304),T=a(24),L=a.p+"static/media/logo.9ba4c1a8.svg",q=function(){return Object(j.jsx)(I.a,{bg:"dark",variant:"dark",expand:"lg",fixed:"top",collapseOnSelect:!0,children:Object(j.jsxs)(f.a,{children:[Object(j.jsx)(l.LinkContainer,{to:"/",children:Object(j.jsxs)(I.a.Brand,{children:[Object(j.jsx)("img",{src:L,alt:"HalifaxFoodie",style:{width:"2.5rem"}}),Object(j.jsx)("span",{children:" HalifaxFoodie"})]})}),Object(j.jsx)(I.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(j.jsx)(I.a.Collapse,{id:"basic-navbar-nav",children:Object(j.jsxs)(D.a,{className:"ml-auto",children:[Object(j.jsx)(l.LinkContainer,{to:"/signup",children:Object(j.jsx)(D.a.Link,{children:"Sign up"})}),Object(j.jsx)(l.LinkContainer,{to:"/login",children:Object(j.jsx)(T.a,{variant:"outline-success",children:"Log in"})})]})})]})})},F=a(301),E=a(110),A=a.n(E),P=function(){var e=JSON.parse(localStorage.getItem("dynamoDbObj")),t="Welcome ".concat(e&&e.name);return Object(j.jsx)(I.a,{bg:"dark",variant:"dark",expand:"lg",fixed:"top",collapseOnSelect:!0,children:Object(j.jsxs)(f.a,{children:[Object(j.jsx)(l.LinkContainer,{to:"/",children:Object(j.jsxs)(I.a.Brand,{children:[Object(j.jsx)("img",{src:L,alt:"HalifaxFoodie",style:{width:"2.5rem"}}),Object(j.jsx)("span",{children:" HalifaxFoodie"})]})}),Object(j.jsx)(I.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(j.jsx)(I.a.Collapse,{id:"basic-navbar-nav",children:Object(j.jsxs)(D.a,{className:"ml-auto",children:[Object(j.jsx)(l.LinkContainer,{to:"/customer/dashboard",children:Object(j.jsx)(D.a.Link,{children:"Order Food"})}),Object(j.jsx)("div",{style:{display:"flex",color:"white"},children:Object(j.jsxs)(F.a,{id:"nav-dropdown-dark-example",title:t,variant:"dark",children:[Object(j.jsx)(F.a.Item,{href:"/changepassword",children:"Change password"}),Object(j.jsx)(F.a.Divider,{}),Object(j.jsxs)(F.a.Item,{href:"/logout",children:["Log out \xa0",Object(j.jsx)(A.a,{})]})]})}),Object(j.jsx)(l.LinkContainer,{to:"/login",children:Object(j.jsx)("div",{children:Object(j.jsx)(T.a,{variant:"dark"})})})]})})]})})},G=function(){var e=JSON.parse(localStorage.getItem("dynamoDbObj")),t="Welcome ".concat(e&&e.name);return Object(j.jsx)(I.a,{bg:"dark",variant:"dark",expand:"lg",fixed:"top",collapseOnSelect:!0,children:Object(j.jsxs)(f.a,{children:[Object(j.jsx)(l.LinkContainer,{to:"/",children:Object(j.jsxs)(I.a.Brand,{children:[Object(j.jsx)("img",{src:L,alt:"HalifaxFoodie",style:{width:"2.5rem"}}),Object(j.jsx)("span",{children:" HalifaxFoodie"})]})}),Object(j.jsx)(I.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(j.jsx)(I.a.Collapse,{id:"basic-navbar-nav",children:Object(j.jsxs)(D.a,{className:"ml-auto",children:[Object(j.jsx)(l.LinkContainer,{to:"/restaurant/dashboard",children:Object(j.jsx)(D.a.Link,{children:"Dashboard"})}),Object(j.jsx)(l.LinkContainer,{to:"/restaurant/analytics",children:Object(j.jsx)(D.a.Link,{children:"Analytics"})}),Object(j.jsx)(l.LinkContainer,{to:"/restaurant/wordcloud",children:Object(j.jsx)(D.a.Link,{children:"Word Cloud"})}),Object(j.jsx)("div",{style:{display:"flex",color:"white"},children:Object(j.jsxs)(F.a,{id:"nav-dropdown-dark-example",title:t,variant:"dark",children:[Object(j.jsx)(F.a.Item,{href:"/changepassword",children:"Change password"}),Object(j.jsx)(F.a.Divider,{}),Object(j.jsxs)(F.a.Item,{href:"/logout",children:["Log out \xa0",Object(j.jsx)(A.a,{})]})]})}),Object(j.jsx)(l.LinkContainer,{to:"/login",children:Object(j.jsx)("div",{children:Object(j.jsx)(T.a,{variant:"dark"})})})]})})]})})},B=a.p+"static/media/IMG_6752.644b8766.JPEG",H=(a.p,a.p+"static/media/photo_vishal.3e79568b.jpeg"),R=a.p+"static/media/photo_yash.cb7db335.jpg",W=function(){var e=JSON.parse(localStorage.getItem("dynamoDbObj"));return Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{title:"HalifaxFoodie - Home"}),e&&"customer"===e.usertype?Object(j.jsx)(P,{}):e?Object(j.jsx)(G,{}):Object(j.jsx)(q,{}),Object(j.jsx)(p,{heading:"HALIFAX FOODIE",paragraph:"Food Delivery System",button:"Login"}),Object(j.jsxs)(f.a,{children:[Object(j.jsx)(g,{head:"Features",description:""}),Object(j.jsxs)(y.a,{children:[Object(j.jsxs)(v.a,{lg:"6",children:[Object(j.jsxs)("h2",{className:"mt-5",children:[Object(j.jsx)("span",{className:"text-muted",children:"Easy "})," on-boarding"]}),Object(j.jsx)("p",{className:"lead",children:"Quickly Sign-up, Verify your Email, and Get Started"})]}),Object(j.jsx)(v.a,{lg:"6",children:Object(j.jsx)(w.a,{fluid:!0,src:N})})]}),Object(j.jsxs)(y.a,{children:[Object(j.jsxs)(v.a,{lg:"6",className:"order-lg-2",children:[Object(j.jsxs)("h2",{className:"mt-5",children:[Object(j.jsx)("span",{className:"text-muted",children:"Order"})," Food"]}),Object(j.jsx)("p",{className:"lead",children:"Easily browse through different restaurant menus and Order"})]}),Object(j.jsx)(v.a,{lg:"6",className:"order-lg-1",children:Object(j.jsx)(w.a,{fluid:!0,src:S})})]}),Object(j.jsxs)(y.a,{children:[Object(j.jsxs)(v.a,{lg:"6",children:[Object(j.jsxs)("h2",{className:"mt-5",children:[Object(j.jsx)("span",{className:"text-muted",children:"Chat"})," Support"]}),Object(j.jsx)("p",{className:"lead",children:"24x7 Online Support and Easily talk to our representatives via chat"})]}),Object(j.jsx)(v.a,{lg:"6",children:Object(j.jsx)(w.a,{fluid:!0,src:k})})]}),Object(j.jsxs)(y.a,{children:[Object(j.jsxs)(v.a,{lg:"6",className:"order-lg-2",children:[Object(j.jsxs)("h2",{className:"mt-5",children:[Object(j.jsx)("span",{className:"text-muted",children:"Advanced"})," Restaurant Dashboard"]}),Object(j.jsx)("p",{className:"lead",children:"Powerful Analytics, Word Cloud, and AI Based food tagging."})]}),Object(j.jsx)(v.a,{lg:"6",className:"order-lg-1",children:Object(j.jsx)(w.a,{fluid:!0,src:C,alt:""})})]})]}),Object(j.jsx)("hr",{}),Object(j.jsxs)(f.a,{children:[Object(j.jsx)(g,{head:"Meet Our Team",description:""}),Object(j.jsxs)(y.a,{children:[Object(j.jsxs)(v.a,{lg:"6",className:"text-center",children:[Object(j.jsx)(w.a,{fluid:!0,roundedCircle:!0,src:B,style:{width:"160px",height:"160px"}}),Object(j.jsx)("h3",{children:"Aeshna Verma"}),Object(j.jsx)("p",{children:"Developer"})]}),Object(j.jsxs)(v.a,{lg:"6",className:"text-center",children:[Object(j.jsx)(w.a,{fluid:!0,roundedCircle:!0,src:"https://ca.slack-edge.com/T01HYU7H2AE-U020HL03TLN-471b11138199-512",style:{width:"160px",height:"160px"}}),Object(j.jsx)("h3",{children:"Vishal Parmar"}),Object(j.jsx)("p",{children:"Developer"})]}),Object(j.jsxs)(v.a,{lg:"6",className:"text-center",children:[Object(j.jsx)(w.a,{fluid:!0,roundedCircle:!0,src:H,style:{width:"160px",height:"160px"}}),Object(j.jsx)("h3",{children:"Vishal Sancheti"}),Object(j.jsx)("p",{children:"Developer"})]}),Object(j.jsxs)(v.a,{lg:"6",className:"text-center",children:[Object(j.jsx)(w.a,{fluid:!0,roundedCircle:!0,src:R,style:{width:"160px",height:"160px"}}),Object(j.jsx)("h3",{children:"Yash Jaiswal"}),Object(j.jsx)("p",{children:"Developer"})]})]})]})]})},J=a(18),_=a.n(J),z=a(29),M=a(22),U=a(9),V=a(21),Y=a.n(V),Q=a(17),Z=a.n(Q),X=a(305),$=a(164).a.initializeApp({apiKey:"AIzaSyAzlZOWeodXbAPdTvvNul5dAnv0UAfN478",authDomain:"serverless-demo-4b5cb.firebaseapp.com",projectId:"serverless-demo-4b5cb",storageBucket:"serverless-demo-4b5cb.appspot.com",messagingSenderId:"1030922017497",appId:"1:1030922017497:web:868e01141ad489f8223cc8",measurementId:"G-B80NY8M44W"}),K=$.auth(),ee="Signup";var te=function(){Object(i.k)();var e=Object(s.useState)(!0),t=Object(M.a)(e,2),a=(t[0],t[1],Object(s.useState)(!0)),r=Object(M.a)(a,2),c=r[0],n=r[1],o=Object(s.useState)(),l=Object(M.a)(o,2),d=l[0],u=l[1],h=Object(s.useState)(!0),O=Object(M.a)(h,2),x=O[0],m=O[1],p=Object(s.useState)(""),w=Object(M.a)(p,2),N=w[0],S=w[1],k=Object(s.useState)(""),C=Object(M.a)(k,2),I=(C[0],C[1]);return Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{title:ee}),Object(j.jsx)(g,{head:ee,description:"Welcome to HalifaxFoodie"}),Object(j.jsx)(q,{}),Object(j.jsx)(f.a,{children:Object(j.jsx)(y.a,{className:"justify-content-md-center",children:Object(j.jsx)(v.a,{xs:!0,lg:"6",children:Object(j.jsxs)(U.a,{onSubmit:function(e){e.preventDefault(),console.log("submitting");var t=new FormData(e.currentTarget),a={fullname:t.get("name"),email:t.get("email"),password:t.get("password"),usertype:t.get("usertype"),question1:t.get("securityquestionone"),question2:t.get("securityquestiontwo"),answer1:t.get("answer1"),answer2:t.get("answer2")};console.table(a);var s={headers:{"x-api-key":"86rdg0XPVu7niqEOb9EFP2BFAi5l5QIe9b8ugAd3","content-type":"application/json"}};(function(){var e=Object(z.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c&&x?"Choose your security question..."===a.question1||"Choose your security question..."===a.question2?(S("Please choose the security questions!!!"),Z.a.fire({icon:"warning",title:"Please choose the security questions",showConfirmButton:!1,timer:1500})):(S(""),I(""),K.createUserWithEmailAndPassword(a.email,a.password).then((function(e){var t=e.user;console.log(t),K.signInWithEmailAndPassword(a.email,a.password).then((function(e){K.currentUser.sendEmailVerification().then((function(){console.log(t.uid),console.log(a.fullname);var e={userid:t.uid,usertype:a.usertype,email:a.email,name:a.fullname,question1:a.question1,answer1:a.answer1,question2:a.question2,answer2:a.answer2};console.table(e),Y.a.post("https://our5k2sjua.execute-api.us-east-1.amazonaws.com/PROD/registerUser",e,s).then((function(e){var t=e;console.log("resbody"+t),"user created successfully!!"===t.data?(I(""),S(""),Z.a.fire({icon:"success",title:"Verification email sent!! Please check your inbox.",showConfirmButton:!1,timer:1500}),window.location.reload(!1)):(S("Connection to server failed!!!"),Z.a.fire({icon:"warning",title:"Connection to server failed!!!",showConfirmButton:!1,timer:1500}))}))}))})).catch((function(e){I(""),S("Connection to server failed!!!"),console.log(e)}))})).catch((function(e){var t=e.code,a=e.message;console.log(a,t,e),"auth/email-already-in-use"===t&&"The email address is already in use by another account."===a?(I(""),S("User already exists!!!!"),Z.a.fire({icon:"error",title:"User already exists!!!!",showConfirmButton:!1,timer:1500}),console.log(e)):(I(""),S("Connection to server failed!!!"),console.log(e))}))):S("Passwords do no match!!");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},children:[Object(j.jsxs)(U.a.Group,{controlId:"name",children:[Object(j.jsx)(U.a.Label,{children:"Name"}),Object(j.jsx)(U.a.Control,{type:"text",placeholder:"Enter Name",name:"name",required:!0,minLength:"2"}),Object(j.jsx)(U.a.Text,{className:"text-muted"})]}),Object(j.jsxs)(U.a.Group,{controlId:"email",children:[Object(j.jsx)(U.a.Label,{children:"Email address"}),Object(j.jsx)(U.a.Control,{type:"email",placeholder:"Enter email",name:"email",required:!0}),Object(j.jsx)(U.a.Text,{className:"text-muted"})]}),Object(j.jsxs)(U.a.Group,{controlId:"password",children:[Object(j.jsx)(U.a.Label,{children:"Password"}),Object(j.jsx)(U.a.Control,{type:"password",placeholder:"Password",name:"password",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Password Validation Error!!! must contain at least one number and one uppercase and lowercase letter, and minimum length is 8 characters",required:!0,onChange:function(e){e.preventDefault();/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/.test(e.currentTarget.value)?(u(e.currentTarget.value),n(!0)):n(!1),console.log(c)}})]}),Object(j.jsxs)(U.a.Group,{controlId:"confirmpassword",children:[Object(j.jsx)(U.a.Label,{children:"Confirm Password"}),Object(j.jsx)(U.a.Control,{type:"password",name:"confirmpassword",placeholder:"Confirm Password",minLength:"8",required:!0,pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Password Validation Error!!! must contain at least one number and one uppercase and lowercase letter, and minimum length is 8 characters",onChange:function(e){e.preventDefault(),console.log("confirm pass",e.currentTarget.value),console.log("ogpass",d),d===e.currentTarget.value?m(!0):m(!1)}})]}),Object(j.jsxs)(U.a.Group,{controlId:"usertype",children:[Object(j.jsx)(U.a.Label,{children:"User Type"}),Object(j.jsxs)(U.a.Control,{as:"select",custom:!0,required:!0,name:"usertype",children:[Object(j.jsx)("option",{value:"customer",children:"Customer"}),Object(j.jsx)("option",{value:"restaurant",children:"Restaurant"})]})]}),Object(j.jsxs)(U.a.Group,{controlId:"securityquestionone",children:[Object(j.jsx)(U.a.Label,{children:"Security Question 1"}),Object(j.jsxs)(U.a.Control,{as:"select",custom:!0,required:!0,name:"securityquestionone",children:[Object(j.jsx)("option",{children:"Choose your security question..."}),Object(j.jsx)("option",{value:"What city were you born in?",children:"What city were you born in?"}),Object(j.jsx)("option",{value:"What was the first concert you attended?",children:"What was the first concert you attended?"}),Object(j.jsx)("option",{value:"What was your childhood nickname?",children:"What was your childhood nickname?"}),Object(j.jsx)("option",{value:"What was the make and model of your first car?",children:"What was the make and model of your first car?"})]}),Object(j.jsxs)(U.a.Group,{controlId:"answer1",children:[Object(j.jsx)(U.a.Label,{children:"Answer 1"}),Object(j.jsx)(U.a.Control,{type:"text",placeholder:"Answer your security question #1",name:"answer1",required:!0,minLength:"2"}),Object(j.jsx)(U.a.Text,{className:"text-muted"})]})]}),Object(j.jsxs)(U.a.Group,{controlId:"securityquestiontwo",children:[Object(j.jsx)(U.a.Label,{children:"Security Question 2"}),Object(j.jsxs)(U.a.Control,{as:"select",custom:!0,required:!0,name:"securityquestiontwo",children:[Object(j.jsx)("option",{children:"Choose your security question..."}),Object(j.jsx)("option",{value:"In what city did you meet your first spouse/partner?",children:"In what city did you meet your first spouse/partner?"}),Object(j.jsx)("option",{value:"In what city was your first job?",children:"In what city was your first job?"}),Object(j.jsx)("option",{value:"Who is the most famous person you have ever met?",children:"Who is the most famous person you have ever met?"}),Object(j.jsx)("option",{value:"  What was the name of your first pet?",children:"What was the name of your first pet?"})]}),Object(j.jsxs)(U.a.Group,{controlId:"answer2",children:[Object(j.jsx)(U.a.Label,{children:"Answer 2"}),Object(j.jsx)(U.a.Control,{type:"text",placeholder:"Answer your security question #2",name:"answer2",required:!0,minLength:"2"}),Object(j.jsx)(U.a.Text,{className:"text-muted"})]})]}),Object(j.jsx)(U.a.Group,{controlId:"checkbox",children:Object(j.jsx)(U.a.Check,{type:"checkbox",label:"I Agree to the Terms & Conditions",required:!0})}),Object(j.jsx)("br",{}),""!==N?Object(j.jsx)(X.a,{variant:"danger",children:N}):"",Object(j.jsx)(T.a,{variant:"primary",type:"submit",children:"Sign up"})]})})})})]})};var ae=function(){var e=Object(i.k)(),t=Object(s.useState)(""),a=Object(M.a)(t,2),r=(a[0],a[1]),c=Object(s.useState)(""),n=Object(M.a)(c,2),o=n[0],l=n[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{title:"HalifaxFoodie - Login"}),Object(j.jsx)(g,{head:"Login",description:"Welcome to HalifaxFoodie"}),Object(j.jsx)(q,{}),Object(j.jsx)(f.a,{children:Object(j.jsx)(y.a,{className:"justify-content-md-center",children:Object(j.jsx)(v.a,{xs:!0,lg:"6",children:Object(j.jsxs)(U.a,{onSubmit:function(t){t.preventDefault();var a=new FormData(t.currentTarget),s={email:a.get("email"),password:a.get("password")};(function(){var t=Object(z.a)(_.a.mark((function t(){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:K.signInWithEmailAndPassword(s.email,s.password).then((function(t){var a=t.user;console.log(a),console.log(a.emailVerified),console.table(a),a.emailVerified?(r(""),l(""),localStorage.setItem("user",JSON.stringify(a)),e.push("/mfa")):(r(""),l("Login Failed!!! Email is not verified"),Z.a.fire({icon:"warning",title:"Login Failed!!! Email is not verified",showConfirmButton:!1,timer:1500}))})).catch((function(e){console.log(e.code),"auth/wrong-password"===e.code&&(r(""),l("Invalid Password!!!!")),r(""),l("Connection to server failed!!!"),console.log(e)}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()},children:[Object(j.jsxs)(U.a.Group,{controlId:"email",children:[Object(j.jsx)(U.a.Label,{children:"Email address"}),Object(j.jsx)(U.a.Control,{type:"email",placeholder:"Enter email",name:"email",required:!0}),Object(j.jsx)(U.a.Text,{className:"text-muted"})]}),Object(j.jsxs)(U.a.Group,{controlId:"password",children:[Object(j.jsx)(U.a.Label,{children:"Password"}),Object(j.jsx)(U.a.Control,{type:"password",name:"password",placeholder:"Password",required:!0,title:"password must contain at least one number and one uppercase and lowercase letter, and minimum length is 8 characters"}),Object(j.jsx)("br",{}),""!==o?Object(j.jsx)(X.a,{variant:"danger",children:o}):""]}),Object(j.jsx)("a",{href:"/forgotpassword",style:{float:"right"},children:"Forgot Password?"}),Object(j.jsx)("br",{}),Object(j.jsx)(T.a,{variant:"primary",type:"submit",children:"Log in"})]})})})})]})},se=function(){return Object(j.jsx)(f.a,{fluid:"md",className:"mt-5",children:Object(j.jsx)(y.a,{children:Object(j.jsx)(v.a,{children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header",children:"404"}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title",children:"Custom Error Page"}),Object(j.jsxs)("p",{className:"card-text",children:["Edit Custom 404 error page ",Object(j.jsx)("code",{children:"src/pages/NotFound.js"})]}),Object(j.jsx)(l.LinkContainer,{to:"/",children:Object(j.jsx)("button",{className:"btn btn-primary",children:"Home Page"})})]})]})})})})};var re=function(){var e=Object(i.k)(),t={userid:JSON.parse(localStorage.getItem("user")).uid};return Object(s.useEffect)((function(){Y.a.put("https://98ym2iigda.execute-api.us-east-1.amazonaws.com/PROD/logOut",t).then((function(e){localStorage.removeItem("authStatus"),localStorage.removeItem("user"),localStorage.removeItem("dynamoDbObj"),K.signOut()})).catch((function(e){})),e.push("/login")}),[]),Object(j.jsx)("div",{})},ce=(a(217),a(19));var ne=function(){var e=Object(i.k)();return Object(s.useEffect)((function(){var t={token:JSON.parse(localStorage.getItem("user")).stsTokenManager.accessToken};Y.a.post("/api/verifyToken",t).then((function(t){console.log("valid token"),"valid token"!==t.data.message&&(Z.a.fire({icon:"warning",title:"Token Expired. Login Again!!",showConfirmButton:!1,timer:1500}),e.push("/logout"))}))}),[]),localStorage.getItem("authStatus")||(Z.a.fire({icon:"error",title:"NOT LOGGED IN",showConfirmButton:!1,timer:1500}),e.push("/")),"customer"!==JSON.parse(localStorage.getItem("dynamoDbObj")).usertype&&(Z.a.fire({icon:"error",title:"Insufficient Access!!!",showConfirmButton:!1,timer:1500}),e.push("/")),Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{title:"HalifaxFoodie - Customer Dashboard"}),Object(j.jsx)(g,{description:"Restaurants",style:{align:"left"}}),Object(j.jsx)(P,{}),Object(j.jsx)(f.a,{children:Object(j.jsx)(y.a,{className:"justify-content-md-center",children:[{_id:"nkY3CE7J0uWol4CgkE0N48hEGAC2",restaurantname:"Tawa Naan",title:"Welcome",message:"Enjoy our delicious food"},{_id:"ArVEzyS0UCZFm3bGnwRZbqTAeyD2",restaurantname:"Curry Grill",title:"t1",message:"Enjoy our delicious food"},{_id:"2",restaurantname:"Masala Adda",title:"t1",message:"Enjoy our delicious food"}].map((function(t){return Object(j.jsx)(v.a,{xs:!0,lg:"3",md:"4",children:Object(j.jsxs)(ce.a,{className:"mb-3",id:t._id,children:[Object(j.jsx)(ce.a.Img,{variant:"top",src:"https://images.unsplash.com/photo-1493770348161-369560ae357d?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80"}),Object(j.jsxs)(ce.a.Body,{children:[Object(j.jsx)(ce.a.Title,{children:t.restaurantname}),Object(j.jsx)(ce.a.Text,{children:t.message}),Object(j.jsx)(T.a,{variant:"primary",onClick:function(a){return s=t._id,void e.push("/menu/"+s);var s},children:"Go to Restaurant's Menu"})]})]},t._id)})}))})})]})},ie=a(299),oe=a(117);a(101);var le=function(){var e=Object(i.k)(),t=Object(s.useState)({}),a=Object(M.a)(t,2),r=a[0],c=a[1];return Object(s.useEffect)((function(){var t={token:JSON.parse(localStorage.getItem("user")).stsTokenManager.accessToken};Y.a.post("/api/verifyToken",t).then((function(t){console.log("valid token"),"valid token"!==t.data.message&&(Z.a.fire({icon:"warning",title:"Token Expired. Login Again!!",showConfirmButton:!1,timer:1500}),e.push("/logout"))}))}),[]),Object(s.useEffect)((function(){c(function(){var e=Object(z.a)(_.a.mark((function e(){var t,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("user")),e.next=3,Y.a.get("https://us-central1-csci5410-316320.cloudfunctions.net/hfx-foodie-sapp2-get?restaurant_id="+t.uid);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(e){return c(e.data[0])})))}),[]),"restaurant"!==JSON.parse(localStorage.getItem("dynamoDbObj")).usertype&&(Z.a.fire({icon:"error",title:"Insufficient Access!!!",showConfirmButton:!1,timer:1500}),e.push("/")),localStorage.getItem("authStatus")||(Z.a.fire({icon:"error",title:"NOT LOGGED IN",showConfirmButton:!1,timer:1500}),e.push("/")),Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{title:"HalifaxFoodie - Restaurant Dashboard"}),Object(j.jsx)(g,{head:"Dashboard",style:{align:"left"}}),Object(j.jsx)(G,{}),Object(j.jsxs)(f.a,{children:[Object(j.jsx)(y.a,{children:Object(j.jsx)(v.a,{children:Object(j.jsxs)(ce.a,{className:"mb-3",children:[Object(j.jsx)(ce.a.Header,{children:"Add New Item"}),Object(j.jsx)(ce.a.Body,{children:Object(j.jsxs)(U.a,{onSubmit:function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("user")),a=new oe(e.target);a.append("restaurant_id",t.uid);var s={headers:{"content-type":"multipart/form-data"}};(function(){var e=Object(z.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.a.post("https://us-central1-csci5410-316320.cloudfunctions.net/hfx-foodie-sapp2-add",a,s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then((function(e){return Z.a.fire({icon:"success",title:e.message,showConfirmButton:!1,timer:1500})})).then((function(){window.location.reload()}))},children:[Object(j.jsxs)(U.a.Group,{controlId:"NewThumbnail",children:[Object(j.jsx)(U.a.Label,{children:"Thumbnail"}),Object(j.jsx)(U.a.Control,{type:"file",name:"thumbnail",placeholder:"Upload thumbnail image...",required:!0})]}),Object(j.jsxs)(U.a.Group,{controlId:"NewTitle",children:[Object(j.jsx)(U.a.Label,{children:"Title"}),Object(j.jsx)(U.a.Control,{type:"input",name:"title",placeholder:"Enter title...",required:!0})]}),Object(j.jsxs)(U.a.Group,{controlId:"NewPostTextArea",children:[Object(j.jsx)(U.a.Label,{children:"Description"}),Object(j.jsx)(U.a.Control,{as:"textarea",rows:3,minLength:"15",name:"description",placeholder:"Enter description...",required:!0})]}),Object(j.jsx)(T.a,{type:"submit",style:{float:"right"},variant:"primary",children:"Add"})]})})]})})}),Object(j.jsx)(y.a,{children:Object(j.jsx)(v.a,{children:Object(j.jsx)("h3",{children:"Food Items"})})}),Object(j.jsx)(y.a,{className:"justify-content-md-center",children:Object(j.jsx)(v.a,{children:Object(j.jsxs)(ie.a,{striped:!0,bordered:!0,hover:!0,children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"#"}),Object(j.jsx)("th",{children:"Thumbnail"}),Object(j.jsx)("th",{children:"Title"}),Object(j.jsx)("th",{children:"Description"}),Object(j.jsx)("th",{children:"Label"}),Object(j.jsx)("th",{children:"Similarity"})]})}),Object(j.jsx)("tbody",{children:r.length&&r.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:t+1}),Object(j.jsx)("td",{children:Object(j.jsx)("img",{src:e.thumbnail,height:"100px",alt:""})}),Object(j.jsx)("td",{children:e.title}),Object(j.jsx)("td",{children:e.description}),Object(j.jsx)("td",{children:e.prediction.label}),Object(j.jsx)("td",{children:e.prediction.confidence})]},t)}))})]})})})]})]})};a(117),a(101);var je=function(){var e=Object(i.k)();return"restaurant"!==JSON.parse(localStorage.getItem("dynamoDbObj")).usertype&&(Z.a.fire({icon:"error",title:"Insufficient Access!!!",showConfirmButton:!1,timer:1500}),e.push("/")),localStorage.getItem("authStatus")||(Z.a.fire({icon:"error",title:"NOT LOGGED IN",showConfirmButton:!1,timer:1500}),e.push("/")),Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{title:"HalifaxFoodie - Restaurant Analytics"}),Object(j.jsx)(g,{head:"Analytics",description:"Powered by DataStudio",style:{align:"left"}}),Object(j.jsx)(G,{}),Object(j.jsx)(f.a,{children:Object(j.jsx)(y.a,{className:"justify-content-md-center",children:Object(j.jsx)(v.a,{children:Object(j.jsx)("div",{className:"embed-responsive embed-responsive-4by3",children:Object(j.jsx)("iframe",{className:"embed-responsive-item",src:"https://datastudio.google.com/embed/reporting/6d27ca4a-2716-4b60-a9ec-16cf809ab0fa/page/qfWWC",allowFullScreen:!0})})})})})]})};var de=function(){var e=JSON.parse(localStorage.getItem("dynamoDbObj")),t=Object(i.k)(),a=Object(i.m)(),r=new Map,c=Object(s.useState)(!1),n=Object(M.a)(c,2),o=n[0],l=n[1],d=Object(s.useState)([]),u=Object(M.a)(d,2),h=u[0],O=u[1];function x(){return(x=Object(z.a)(_.a.mark((function e(t,a){var s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0==r.get(a.title)||null==r.get(a.title)?r.set(a.title,[a]):((s=r.get(a.title)).push(a),r.set(a.title,s)),l(!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)(Object(z.a)(_.a.mark((function e(){var t,s,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.id,e.next=3,Y.a.get("https://us-central1-csci5410-316320.cloudfunctions.net/hfx-foodie-sapp2-get?restaurant_id="+t);case 3:s=e.sent,(r=s.data.data[0]).forEach((function(e){e.price=50})),O(r);case 7:case"end":return e.stop()}}),e)}))),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{title:"HalifaxFoodie - Menu"}),e&&"customer"===e.usertype?Object(j.jsx)(P,{}):Object(j.jsx)(G,{}),Object(j.jsx)(f.a,{className:"add-margin-top",children:Object(j.jsx)(y.a,{className:"justify-content-md-center",children:Object(j.jsx)(v.a,{xs:!0,lg:"12",children:Object(j.jsxs)(ce.a,{className:"mb-3",children:[Object(j.jsx)(ce.a.Header,{children:Object(j.jsx)("p",{className:"message-header",children:"Restuarant Menu"})}),Object(j.jsx)(ce.a.Body,{children:Object(j.jsx)("table",{className:"table-style",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Dish"}),Object(j.jsx)("th",{children:"Title"}),Object(j.jsx)("th",{children:"Description"}),Object(j.jsx)("th",{children:"Price"}),Object(j.jsx)("th",{children:"Action"})]}),h.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:Object(j.jsx)("img",{src:e.thumbnail,className:"food-img"})}),Object(j.jsx)("td",{className:"text-align-justify",children:e.title}),Object(j.jsx)("td",{className:"text-align-justify",children:e.description}),Object(j.jsx)("td",{children:e.price}),Object(j.jsx)("td",{children:Object(j.jsx)(T.a,{style:{float:"right"},variant:"primary",onClick:function(t){return function(e,t){return x.apply(this,arguments)}(t,e)},children:"Add"})})]},t)})),o?Object(j.jsx)("tr",{children:Object(j.jsx)("td",{colSpan:"5",children:Object(j.jsx)(T.a,{style:{float:"right"},variant:"primary",onClick:function(e){t.push("/checkout",{cart:r})},children:"Proceed to Checkout"})})}):Object(j.jsx)("tr",{children:Object(j.jsx)("td",{colSpan:"5"})})]})})})]})})})})]})},ue=a(80),be=a(71),he=a(256),Oe=["Vishal Parmar"];var xe=function(){var e=Object(i.k)(),t=JSON.parse(localStorage.getItem("dynamoDbObj")),a=r.a.useRef(),c=Object(s.useState)(""),n=Object(M.a)(c,2),o=n[0],l=n[1],d=Object(s.useState)({}),u=Object(M.a)(d,2),h=u[0],O=u[1],x=Object(s.useState)([]),m=Object(M.a)(x,2),p=m[0],g=m[1];function w(){return(w=Object(z.a)(_.a.mark((function e(t,a){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(a);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(z.a)(_.a.mark((function e(t){var s,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""==o){e.next=7;break}return s=h.messageToSend,p.push({type:"user1",message:s}),e.next=5,he.a.send("HalifaxFoodieChat",s);case 5:r=e.sent,setTimeout((function(){g(p),p.push({type:"system",message:r.message}),O((function(e){return Object(be.a)({},e)})),a.current.value=""}),3e3);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return"restaurant"!==JSON.parse(localStorage.getItem("dynamoDbObj")).usertype&"customer"!==JSON.parse(localStorage.getItem("dynamoDbObj")).usertype&&(Z.a.fire({icon:"error",title:"Insufficient Access!!!",showConfirmButton:!1,timer:1500}),e.push("/")),localStorage.getItem("authStatus")||(Z.a.fire({icon:"error",title:"NOT LOGGED IN",showConfirmButton:!1,timer:1500}),e.push("/")),Object(s.useEffect)(Object(z.a)(_.a.mark((function e(){var t,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://2l0tap227c.execute-api.us-east-1.amazonaws.com/PROD/getOnlineUsers",e.next=3,Y.a.get("https://2l0tap227c.execute-api.us-east-1.amazonaws.com/PROD/getOnlineUsers");case 3:void 0!=(t=e.sent)&&(a=t.data,JSON.stringify(a));case 5:case"end":return e.stop()}}),e)}))),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{title:"HalifaxFoodie - Chat"}),t&&"customer"===t.usertype?Object(j.jsx)(P,{}):Object(j.jsx)(G,{}),Object(j.jsx)(f.a,{className:"add-margin-top",children:Object(j.jsxs)(y.a,{className:"justify-content-md-center",children:[Object(j.jsx)(v.a,{xs:!0,lg:"9",children:Object(j.jsxs)(ce.a,{className:"mb-3",children:[Object(j.jsx)(ce.a.Header,{children:Object(j.jsxs)("p",{className:"message-header",children:["Chat with our customer representative",""==o?Object(j.jsx)("p",{children:"Please select the representative"}):Object(j.jsxs)("p",{children:[" You are chatting with ",o]})]})}),Object(j.jsxs)(ce.a.Body,{children:[Object(j.jsx)("div",{children:p.map((function(e,t){return"user1"==e.type?Object(j.jsx)("p",{className:"user-text",children:e.message},t):Object(j.jsx)("p",{className:"system-text",children:e.message},t)}))}),Object(j.jsxs)(U.a,{children:[Object(j.jsx)(U.a.Group,{controlId:"messageToSend",children:Object(j.jsx)(U.a.Control,{type:"input",name:"messageToSend",placeholder:"Enter Message",onChange:function(e){var t=e.target.name,a=e.target.value;O((function(e){return Object(be.a)(Object(be.a)({},e),{},Object(ue.a)({},t,a))}))},ref:a,required:!0})}),Object(j.jsx)(T.a,{style:{float:"right"},variant:"primary",onClick:function(e){return N.apply(this,arguments)},children:"Send"})]})]})]})}),Object(j.jsx)(v.a,{xs:!0,lg:"3",children:Object(j.jsxs)(ce.a,{className:"mb-3",children:[Object(j.jsx)(ce.a.Header,{children:Object(j.jsx)("p",{className:"message-header",children:"Online Representatives"})}),Object(j.jsx)(ce.a.Body,{children:Object(j.jsx)("div",{children:Oe.map((function(e,t){return Object(j.jsx)("p",{className:"online-user",onClick:function(t){return function(e,t){return w.apply(this,arguments)}(t,e)},children:e},t)}))})})]})})]})})]})};var me=function(){var e=Object(i.k)(),t=JSON.parse(localStorage.getItem("dynamoDbObj")),a=r.a.useRef(),c=Object(s.useState)({}),n=Object(M.a)(c,2),o=n[0],l=n[1],d=Object(s.useState)([]),u=Object(M.a)(d,2),h=u[0],O=u[1];function x(){return(x=Object(z.a)(_.a.mark((function e(t){var s,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=o.messageToSend,h.push({type:"user",message:s}),e.next=4,he.a.send("HalifaxFoodiesSupport",s);case 4:r=e.sent,O(h),h.push({type:"system",message:r.message}),l((function(e){return Object(be.a)({},e)})),a.current.value="";case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return"restaurant"!==JSON.parse(localStorage.getItem("dynamoDbObj")).usertype&"customer"!==JSON.parse(localStorage.getItem("dynamoDbObj")).usertype&&(Z.a.fire({icon:"error",title:"Insufficient Access!!!",showConfirmButton:!1,timer:1500}),e.push("/")),localStorage.getItem("authStatus")||(Z.a.fire({icon:"error",title:"NOT LOGGED IN",showConfirmButton:!1,timer:1500}),e.push("/")),Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{title:"HalifaxFoodie - Support"}),t&&"customer"===t.usertype?Object(j.jsx)(P,{}):Object(j.jsx)(G,{}),Object(j.jsx)(f.a,{className:"add-margin-top",children:Object(j.jsx)(y.a,{className:"justify-content-md-center",children:Object(j.jsx)(v.a,{xs:!0,lg:"12",children:Object(j.jsxs)(ce.a,{className:"mb-3",children:[Object(j.jsx)(ce.a.Header,{children:Object(j.jsx)("p",{className:"message-header",children:"Talk to our online support"})}),Object(j.jsxs)(ce.a.Body,{children:[Object(j.jsx)("div",{children:Object(j.jsx)("div",{children:h.map((function(e,t){return"user"==e.type?Object(j.jsx)("p",{className:"user-text",children:e.message},t):Object(j.jsx)("p",{className:"system-text",children:e.message},t)}))})}),Object(j.jsxs)(U.a,{children:[Object(j.jsx)(U.a.Group,{controlId:"messageToSend",children:Object(j.jsx)(U.a.Control,{type:"input",name:"messageToSend",placeholder:"Enter Message",onChange:function(e){var t=e.target.name,a=e.target.value;l((function(e){return Object(be.a)(Object(be.a)({},e),{},Object(ue.a)({},t,a))}))},ref:a,required:!0})}),Object(j.jsx)(T.a,{style:{float:"right"},variant:"primary",onClick:function(e){return x.apply(this,arguments)},children:"Send"})]})]})]})})})})]})};var pe=function(e){var t=JSON.parse(localStorage.getItem("dynamoDbObj")),a=Object(i.k)(),r=Object(i.l)(),c=Object(s.useState)([]),n=Object(M.a)(c,2),o=n[0],l=n[1],d=Object(s.useState)(0),u=Object(M.a)(d,2),h=u[0],O=u[1];function x(e,t){return m.apply(this,arguments)}function m(){return(m=Object(z.a)(_.a.mark((function e(t,s){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push("/"+s);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)(Object(z.a)(_.a.mark((function e(){var t,a,s,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.state.cart,a=Array.from(t.keys()),s=[],c=0,a.forEach((function(e){s.push({title:e,quantity:t.get(e).length,price:t.get(e)[0].price*t.get(e).length})})),s.forEach((function(e){c+=e.price})),l(s),O(c);case 8:case"end":return e.stop()}}),e)}))),[r]),Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{title:"HalifaxFoodie - Checkout"}),t&&"customer"===t.usertype?Object(j.jsx)(P,{}):Object(j.jsx)(G,{}),Object(j.jsx)(f.a,{className:"add-margin-top",children:Object(j.jsx)(y.a,{className:"justify-content-md-center",children:Object(j.jsx)(v.a,{xs:!0,lg:"12",children:Object(j.jsxs)(ce.a,{className:"mb-3",children:[Object(j.jsx)(ce.a.Header,{children:Object(j.jsx)("p",{className:"message-header",children:"Your order is successfully placed"})}),Object(j.jsx)(ce.a.Body,{children:Object(j.jsx)("table",{className:"table-style",children:Object(j.jsxs)("tbody",{children:[Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Title"}),Object(j.jsx)("th",{children:"Quantity"}),Object(j.jsx)("th",{children:"Price"})]}),o.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.title}),Object(j.jsx)("td",{children:e.quantity}),Object(j.jsx)("td",{children:e.price})]},t)})),Object(j.jsx)("tr",{children:Object(j.jsxs)("td",{colSpan:"3",children:["Total Price Payable: ",h]})})]})})}),Object(j.jsxs)("div",{className:"help-div",children:[Object(j.jsx)(T.a,{variant:"primary",className:"help-button",onClick:function(e){return x(e,"chat")},children:"Talk to us"}),Object(j.jsx)(T.a,{variant:"primary",className:"help-button",onClick:function(e){return x(e,"support")},children:"Need support ?"}),Object(j.jsx)(T.a,{variant:"primary",className:"help-button",onClick:function(e){return x(e,"customer/feedback")},children:"Give a feedback"})]})]})})})})]})};var fe=function(){var e=JSON.parse(localStorage.getItem("dynamoDbObj")),t=(Object(i.k)(),Object(s.useState)("")),a=Object(M.a)(t,2),r=a[0],c=a[1],n=Object(s.useState)(""),o=Object(M.a)(n,2),l=(o[0],o[1]);return Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{title:"HalifaxFoodie - Forgot Password"}),Object(j.jsx)(g,{head:"",description:"Forgot Password"}),e&&"customer"===e.usertype?Object(j.jsx)(P,{}):e?Object(j.jsx)(G,{}):Object(j.jsx)(q,{}),Object(j.jsx)(f.a,{children:Object(j.jsx)(y.a,{className:"justify-content-md-center",children:Object(j.jsx)(v.a,{xs:!0,lg:"6",children:Object(j.jsxs)(U.a,{onSubmit:function(e){e.preventDefault();var t={email:new FormData(e.currentTarget).get("email")};(function(){var e=Object(z.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K.sendPasswordResetEmail(t.email).then((function(){l(""),c(""),Z.a.fire({icon:"success",title:"Password reset link has been sent.",showConfirmButton:!1,timer:1500})})).catch((function(e){e.code,e.message;l(""),c("Request Failed!! Please check your email ID!!"),Z.a.fire({icon:"error",title:"Request Failed!! Please check your email ID!!",showConfirmButton:!1,timer:1500})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},children:[Object(j.jsxs)(U.a.Group,{controlId:"email",children:[Object(j.jsx)(U.a.Label,{children:"Password reset link"}),Object(j.jsx)(U.a.Control,{type:"email",placeholder:"Enter your email address to get the password reset link",name:"email",required:!0}),Object(j.jsx)(U.a.Text,{className:"text-muted"})]}),""!==r?Object(j.jsx)(X.a,{variant:"danger",children:r}):"",Object(j.jsx)(T.a,{variant:"primary",type:"submit",style:{float:"right"},children:"Submit"})]})})})})]})},ge=a(74),ye=function(){return Object(j.jsx)(I.a,{bg:"dark",variant:"dark",expand:"lg",fixed:"top",collapseOnSelect:!0,children:Object(j.jsxs)(f.a,{children:[Object(j.jsx)(l.LinkContainer,{to:"/",children:Object(j.jsxs)(I.a.Brand,{children:[Object(j.jsx)("img",{src:L,alt:"HalifaxFoodie",style:{width:"2.5rem"}}),Object(j.jsx)("span",{children:" HalifaxFoodie"})]})}),Object(j.jsx)(I.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(j.jsx)(I.a.Collapse,{id:"basic-navbar-nav",children:Object(j.jsx)(D.a,{className:"ml-auto"})})]})})};var ve=function(){var e=Object(i.k)(),t=Object(s.useState)(""),a=Object(M.a)(t,2),r=(a[0],a[1]),c=Object(s.useState)(""),n=Object(M.a)(c,2),o=n[0],l=n[1],d=Object(s.useState)(),u=Object(M.a)(d,2),h=u[0],O=u[1],x=JSON.parse(localStorage.getItem("user"));return Object(s.useEffect)((function(){x||(Z.a.fire({icon:"error",title:"NOT LOGGED IN",showConfirmButton:!1,timer:1500}),e.push("/"));var t={userid:x&&x.uid};Y.a.post("https://o0uw98zam6.execute-api.us-east-1.amazonaws.com/PROD/getUser",t,{headers:{"x-api-key":"YyFQfDqizX9CtCAt9onDv1U5LPlyy1WV285CYmBy","content-type":"application/json"}}).then((function(e){console.log(e),O(e.data[0])})).catch((function(e){console.log(e)}))}),[]),Object(j.jsxs)("div",{children:[console.table(JSON.parse(localStorage.getItem("user"))),Object(j.jsx)(b,{title:"HalifaxFoodie - MFA"}),Object(j.jsx)(g,{head:"Security Questions",description:""}),Object(j.jsx)(ye,{}),Object(j.jsx)(f.a,{children:Object(j.jsx)(y.a,{className:"justify-content-md-center",children:Object(j.jsx)(v.a,{xs:!0,lg:"6",children:Object(j.jsxs)(U.a,{onSubmit:function(t){t.preventDefault();var a=new FormData(t.currentTarget),s={userid:x.uid,question1:a.get("questionone"),question2:a.get("questiontwo"),answer1:a.get("answer1"),answer2:a.get("answer2")};console.log(x),console.log(s);var c={headers:{"x-api-key":"3h9i6Ml98j7cukjdjYcxG3cTD04IA2HU2s05Xy0b","content-type":"application/json"}};(function(){var t=Object(z.a)(_.a.mark((function t(){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Y.a.post("https://7os7qe21ji.execute-api.us-east-1.amazonaws.com/PROD/verifySecurityQuestions",s,c).then((function(t){console.log(t),r(""),l(""),Z.a.fire({icon:"success",title:"Logged in",showConfirmButton:!1,timer:1500}),localStorage.setItem("authStatus",!0),localStorage.setItem("dynamoDbObj",JSON.stringify(h));var a={userid:x.uid};Y.a.put("https://sjstcgbk8f.execute-api.us-east-1.amazonaws.com/PROD/setStatusOnline",a).then((function(t){h&&"customer"===h.usertype?e.push("/customer/dashboard"):e.push("restaurant/dashboard")})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e),r(""),l("Security check failed!! Check your responses!!"),Z.a.fire({icon:"warning",title:"Security check failed!! Check your responses!!",showConfirmButton:!1,timer:1500})}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()},children:[Object(j.jsxs)(U.a.Group,{controlId:"questionone",children:[Object(j.jsx)(U.a.Label,{children:Object(j.jsx)("b",{children:"Question 1."})}),Object(j.jsx)(U.a.Control,{type:"text",name:"questionone",value:h&&h.question1})]}),Object(j.jsxs)(U.a.Group,{controlId:"answer1",children:[Object(j.jsx)(U.a.Label,{children:"Answer"}),Object(j.jsx)(U.a.Control,{type:"text",placeholder:"Enter your response ...",name:"answer1",required:!0,minLength:"2"})]}),Object(j.jsxs)(U.a.Group,{controlId:"questiontwo",children:[Object(j.jsx)(U.a.Label,{children:Object(j.jsx)("b",{children:"Question 2."})}),Object(j.jsx)(U.a.Control,{type:"text",name:"questiontwo",value:h&&h.question2})]}),Object(j.jsxs)(U.a.Group,{controlId:"answer2",children:[Object(j.jsx)(U.a.Label,{}),Object(j.jsx)(U.a.Control,{type:"text",placeholder:"Enter your response ...",name:"answer2",required:!0,minLength:"2"})]}),Object(j.jsx)("br",{}),""!==o?Object(j.jsx)(X.a,{variant:"danger",children:o}):"",Object(j.jsx)("br",{}),Object(j.jsx)(T.a,{variant:"primary",type:"submit",children:"Next"})]})})})})]})};var we=function(){var e=JSON.parse(localStorage.getItem("dynamoDbObj")),t=Object(i.k)(),a=Object(s.useState)(""),r=Object(M.a)(a,2),c=r[0],n=r[1],o=Object(s.useState)(""),l=Object(M.a)(o,2),d=(l[0],l[1]);return Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{title:"HalifaxFoodie - Forgot Password"}),Object(j.jsx)(g,{head:"",description:"Change Password"}),e&&"customer"===e.usertype?Object(j.jsx)(P,{}):Object(j.jsx)(G,{}),Object(j.jsx)(f.a,{children:Object(j.jsx)(y.a,{className:"justify-content-md-center",children:Object(j.jsx)(v.a,{xs:!0,lg:"6",children:Object(j.jsxs)(U.a,{onSubmit:function(a){a.preventDefault();var s={email:new FormData(a.currentTarget).get("email")};(function(){var a=Object(z.a)(_.a.mark((function a(){return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:K.sendPasswordResetEmail(s.email).then((function(){d(""),n(""),Z.a.fire({icon:"success",title:"Update password link has been sent to your mailbox.",showConfirmButton:!1,timer:1500}),e&&"customer"===e.usertype?t.push("/customer/dashboard"):t.push("restaurant/dashboard")})).catch((function(e){e.code,e.message;d(""),n("Request Failed!! Please check your email ID!!"),Z.a.fire({icon:"error",title:"Request Failed!! Please check your email ID!!",showConfirmButton:!1,timer:1500})}));case 1:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()},children:[Object(j.jsxs)(U.a.Group,{controlId:"email",children:[Object(j.jsx)(U.a.Label,{children:"Password reset link"}),Object(j.jsx)(U.a.Control,{type:"email",placeholder:"Enter your email address to get the link to update your password",name:"email",required:!0}),Object(j.jsx)(U.a.Text,{className:"text-muted"})]}),""!==c?Object(j.jsx)(X.a,{variant:"danger",children:c}):"",Object(j.jsx)(T.a,{variant:"primary",type:"submit",style:{float:"right"},children:"Submit"})]})})})})]})};var Ne=function(){var e=Object(i.k)();return"customer"!==JSON.parse(localStorage.getItem("dynamoDbObj")).usertype&&(Z.a.fire({icon:"error",title:"Insufficient Access!!!",showConfirmButton:!1,timer:1500}),e.push("/")),localStorage.getItem("authStatus")||(Z.a.fire({icon:"error",title:"NOT LOGGED IN",showConfirmButton:!1,timer:1500}),e.push("/")),Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{title:"Feedback"}),Object(j.jsx)(g,{head:"Feedback",description:"",style:{align:"left"}}),Object(j.jsx)(P,{}),Object(j.jsx)(f.a,{children:Object(j.jsx)(y.a,{className:"justify-content-md-center",children:Object(j.jsx)(v.a,{xs:!0,lg:"12",children:Object(j.jsxs)(ce.a,{className:"mb-3",children:[Object(j.jsx)(ce.a.Header,{children:"Enter feedback"}),Object(j.jsx)(ce.a.Body,{children:Object(j.jsxs)(U.a,{onSubmit:function(e){e.preventDefault(),console.log("Dish form "+e.target.postDish.value),console.log("Resturant form "+e.target.postResturant.value),console.log("Review form "+e.target.postReview.value);var t={method:"POST",url:"https://serverless-hittgf4zcq-km.a.run.app/Feedback/SubmitReviews",headers:{"content-type":"application/json"},data:{Feedback:e.target.postReview.value,FoodItemName:e.target.postDish.value,ResturantName:e.target.postResturant.value}};Y.a.request(t).then((function(e){var t=e.data;console.log("Feedback res: "+t),Z.a.fire({icon:"success",title:"Feedback submitted",showConfirmButton:!1,timer:1500})}))},children:[Object(j.jsxs)(U.a.Group,{controlId:"NewPostTitle",children:[Object(j.jsx)(U.a.Label,{children:"Resturant name"}),Object(j.jsxs)(U.a.Control,{as:"select",name:"postResturant",required:!0,children:[Object(j.jsx)("option",{value:"Tawa Naan",children:"Tawa Naan"}),Object(j.jsx)("option",{value:"Curry Grill",children:"Curry Grill"}),Object(j.jsx)("option",{value:"Masala Adda",children:"Masala Adda"})]})]}),Object(j.jsxs)(U.a.Group,{controlId:"NewPostTitle",children:[Object(j.jsx)(U.a.Label,{children:"Food Item"}),Object(j.jsx)(U.a.Control,{type:"input",name:"postDish",placeholder:"Enter the food item name",required:!0,minLength:"5",onChange:""})]}),Object(j.jsxs)(U.a.Group,{controlId:"NewPostTextArea",children:[Object(j.jsx)(U.a.Label,{children:"Enter your feedback"}),Object(j.jsx)(U.a.Control,{as:"textarea",rows:3,minLength:"5",name:"postReview",placeholder:"enter feedback",required:!0,onChange:""})]}),Object(j.jsx)(T.a,{type:"submit",style:{float:"right"},variant:"primary",children:"Add"})]})})]})})})})]})};a(117),a(101);var Se=function(){var e=Object(i.k)();return"restaurant"!==JSON.parse(localStorage.getItem("dynamoDbObj")).usertype&&(Z.a.fire({icon:"error",title:"Insufficient Access!!!",showConfirmButton:!1,timer:1500}),e.push("/")),localStorage.getItem("authStatus")||(Z.a.fire({icon:"error",title:"NOT LOGGED IN",showConfirmButton:!1,timer:1500}),e.push("/")),Object(s.useEffect)(Object(z.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"https:/serverless-hittgf4zcq-km.a.run.app/Feedback/GetWordCloudData",Y.a.get("https:/serverless-hittgf4zcq-km.a.run.app/Feedback/GetWordCloudData").then((function(e){var t=e.data;console.log("finalWordClouddata "+t);var a={method:"POST",url:"https://textvis-word-cloud-v1.p.rapidapi.com/v1/textToCloud",headers:{"content-type":"application/json","x-rapidapi-key":"e431dd7fdfmshd3726113c399fe8p1e9deejsn79afd24059bc","x-rapidapi-host":"textvis-word-cloud-v1.p.rapidapi.com"},data:{text:t,scale:1,width:800,height:600,colors:["#375E97","#FB6542","#FFBB00","#3F681C"],font:"Tahoma",use_stopwords:!0,language:"en",uppercase:!1}};Y.a.request(a).then((function(e){var t=e.data,a=document.getElementById("wordCloud");a.src=t,a.height=800,a.width=600}))}));case 2:case"end":return e.stop()}}),e)}))),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{title:"HalifaxFoodie - Restaurant Analytics"}),Object(j.jsx)(g,{head:"Word Cloud",description:"",style:{align:"left"}}),Object(j.jsx)(G,{}),Object(j.jsx)(f.a,{children:Object(j.jsx)(y.a,{className:"justify-content-md-center",children:Object(j.jsx)(v.a,{className:"text-center",children:Object(j.jsx)(ce.a,{className:"mb-3",children:Object(j.jsxs)(ce.a.Body,{children:[Object(j.jsx)("div",{children:s.useEffect.responseWD}),Object(j.jsx)("img",{id:"wordCloud"})]})})})})})]})};ge.default.configure({Auth:{identityPoolId:"us-east-1:4df7c38d-b678-43c9-b912-882473f68098",region:"us-east-1"},Interactions:{bots:{HalifaxFoodiesSupport:{name:"HalifaxFoodiesSupport",alias:"$LATEST",region:"us-east-1"},HalifaxFoodieChat:{name:"HalifaxFoodieChat",alias:"$LATEST",region:"us-east-1"}}}});var ke=function(){return Object(j.jsxs)(o.BrowserRouter,{children:[Object(j.jsx)("main",{className:"my-5 pt-3",style:{minHeight:"80vh"},children:Object(j.jsxs)(i.g,{children:[Object(j.jsx)(i.d,{path:"/",component:W,exact:!0}),Object(j.jsx)(i.d,{path:"/login",component:ae}),Object(j.jsx)(i.d,{path:"/logout",component:re}),Object(j.jsx)(i.d,{path:"/signup",component:te}),Object(j.jsx)(i.d,{path:"/customer/dashboard",component:ne}),Object(j.jsx)(i.d,{path:"/customer/feedback",component:Ne}),Object(j.jsx)(i.d,{path:"/restaurant/dashboard",component:le}),Object(j.jsx)(i.d,{path:"/restaurant/analytics",component:je}),Object(j.jsx)(i.d,{path:"/restaurant/wordcloud",component:Se}),Object(j.jsx)(i.d,{path:"/chat",children:Object(j.jsx)(xe,{})}),Object(j.jsx)(i.d,{path:"/support",children:Object(j.jsx)(me,{})}),Object(j.jsx)(i.d,{path:"/menu/:id",children:Object(j.jsx)(de,{})}),Object(j.jsx)(i.d,{path:"/checkout",children:Object(j.jsx)(pe,{})}),Object(j.jsx)(i.d,{path:"/forgotpassword",component:fe}),Object(j.jsx)(i.d,{path:"/changepassword",component:we}),Object(j.jsx)(i.d,{path:"/mfa",component:ve}),Object(j.jsx)(i.d,{component:se})]})}),Object(j.jsx)(d,{})]})};a(251);a(252).config(),n.a.render(Object(j.jsx)(ke,{}),document.getElementById("root"))}},[[255,1,2]]]);
//# sourceMappingURL=main.136d51f4.chunk.js.map